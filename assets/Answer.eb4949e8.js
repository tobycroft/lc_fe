import{g as y,p as A}from"./ak.1933dec5.js";import{j as T,_ as F,r as i,M as U,a as E,o as R,c as O,b as s,d as m,t as r,m as p,F as b,z as L,q as V,w as v,v as f,k as N,T as P,p as W,i as x}from"./index.431649e2.js";const j=async o=>await T("https://api.lc.familyeducation.org.cn/v1/quiz/record/add",o);const w={name:"Answer",props:{finishVideo:{type:Boolean,default:!1},activeNum:{type:Number,default:1},listData:{type:[Array,Object],default:()=>{}}},setup(o,C){const l=i([]),e=i(1),S=i(),g=i("\u4E0B\u4E00\u9898"),c=i(0),u=t=>{console.log(t),o.finishVideo?(n.value.includes(t)?n.value=n.value.filter(D=>D!=t):n.value.push(t),console.log(n.value)):P("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898")},_=t=>{switch(t){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return""}},a=i(!1),d=()=>{a.value=!0,C.emit("scrollBottom")};let n=i([]);const I=async()=>{if(e.value==9&&(g.value="\u63D0\u4EA4"),!o.finishVideo){P("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898");return}if(n.value==[]){P("\u8BF7\u9009\u62E9\u95EE\u9898\u7B54\u6848");return}const t=n.value.sort().toString(),D=l.value[e.value-1].answer.toString();if(t!=D){P("\u7B54\u6848\u4E0D\u6B63\u786E\uFF0C\u770B\u770B\u63D0\u793A\u518D\u4F5C\u7B54\u5427");return}let M=await j({qs_id:e.value,choice:t});n.value=[],a.value=!1,C.emit("change",M.gift_info)};return U(()=>{l.value=o.listData,e.value=o.activeNum,S.value=l.value.length,c.value=A(e.value,S.value)}),{showTips:d,getImgUrl:y,percentage:A,percentageRef:c,optionsKeyVisiable:_,promptVisiableRef:a,promptActiveRef:n,listDataRef:l,activeNumRef:e,btnVal:g,onNextTopic:I,clickPrompt:u}}},h=o=>(W("data-v-954d71b1"),o=o(),x(),o),q={class:"answer-container"},G={class:"card-style"},k={class:"title-box-style flex-start"},K={class:"title-left-style"},B={class:"station-name"},H={class:"subject-total"},X={class:"current-subject"},J={class:"problem-box-style"},z={class:"problem-type-style"},Y=h(()=>s("span",{class:"multiple-choice-style"},"(\u591A\u9009)",-1)),Q={class:"problem-style"},Z=["onClick"],$={class:"options-number-style"},ee={class:"options-content-style"},se={class:"operation-box-style flex"},oe={class:"prompt-box-style"},ne={class:"prompt-title-style"},te=h(()=>s("span",null,"\u63D0\u793A:",-1)),re={class:"prompt-content-style"};function ae(o,C,l,e,S,g){const c=E("van-image"),u=E("van-progress"),_=E("van-button");return R(),O("div",q,[s("div",G,[s("header",null,[s("div",k,[s("div",K,[m(c,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),s("span",B,r(e.listDataRef[e.activeNumRef-1].stationTitle),1)]),s("div",H,[s("span",X,"0"+r(e.activeNumRef),1),p(" /"+r(e.listDataRef.length),1)])]),m(u,{class:"progress-style",percentage:e.percentageRef,"stroke-width":"1","show-pivot":!1,color:"#F2487D","track-color":"#E6E6E6"},null,8,["percentage"])]),s("article",null,[s("div",J,[s("p",z,[p(r(e.listDataRef[e.activeNumRef-1].title)+" ",1),Y]),s("p",Q,r(e.listDataRef[e.activeNumRef-1].topic),1)]),s("ul",null,[(R(!0),O(b,null,L(e.listDataRef[e.activeNumRef-1].options,(a,d)=>(R(),O("li",{key:d,class:V(["flex-start",{"active-li-style":e.promptActiveRef.includes(a.value),"unfinish-li-style":!l.finishVideo}]),onClick:n=>e.clickPrompt(a.value)},[s("div",$,r(e.optionsKeyVisiable(d))+". ",1),s("p",ee,r(a.label),1),v(m(c,{class:"active-img-style",src:e.getImgUrl("subject_select.png")},null,8,["src"]),[[f,e.promptActiveRef.includes(a.value)]])],10,Z))),128))]),s("footer",null,[s("div",se,[m(_,{class:"global-btn-style check-prompt-btn-style",color:"#EEEEEE",onClick:e.showTips},{default:N(()=>[p(" \u67E5\u770B\u63D0\u793A ")]),_:1},8,["onClick"]),m(_,{class:"global-btn-style next-btn-style",color:"#F2487D",round:"",onClick:e.onNextTopic},{default:N(()=>[p(r(e.btnVal),1)]),_:1},8,["onClick"])])])])]),v(s("div",oe,[s("p",ne,[m(c,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),te]),s("p",re,r(e.listDataRef[e.activeNumRef-1].hint),1)],512),[[f,e.promptVisiableRef]])])}const ce=F(w,[["render",ae],["__scopeId","data-v-954d71b1"]]);export{ce as default};
