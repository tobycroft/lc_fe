import{g as M,p as A}from"./ak.5795e222.js";import{j as T,_ as b,r as t,M as F,a as v,o as R,c as D,b as s,d as l,t as i,m as d,F as k,z as U,q as L,w as f,v as O,k as I,T as g,p as w,i as V}from"./index.b7e424aa.js";const x=async n=>await T("https://api.lc.familyeducation.org.cn/v1/quiz/record/add",n);const W={name:"Answer",props:{finishVideo:{type:Boolean,default:!1},activeNum:{type:Number,default:1},listData:{type:[Array,Object],default:()=>{}}},setup(n,P){const r=t([]),e=t(1),C=t(),S=t("\u4E0B\u4E00\u9898"),c=t(0),E=a=>{console.log(a),n.finishVideo?(o.value.includes(a)?o.value=o.value.filter(u=>u!=a):o.value.push(a),console.log(o.value)):g("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898")},p=a=>{switch(a){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return""}},_=t(!1),m=()=>{_.value=!0,P.emit("scrollBottom")};let o=t([]);const y=async()=>{if(e.value==9&&(S.value="\u63D0\u4EA4"),!n.finishVideo){g("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898");return}if(o.value==[]){g("\u8BF7\u9009\u62E9\u95EE\u9898\u7B54\u6848");return}const a=o.value.sort().toString(),u=r.value[e.value-1].answer.toString();if(a!=u){g("\u7B54\u6848\u4E0D\u6B63\u786E\uFF0C\u770B\u770B\u63D0\u793A\u518D\u4F5C\u7B54\u5427");return}let N=await x({qs_id:e.value,choice:a});o.value=[],_.value=!1,P.emit("change",N.gift_info)};return F(()=>{r.value=n.listData,e.value=n.activeNum,C.value=r.value.length,c.value=A(e.value,C.value)}),{showTips:m,getImgUrl:M,percentage:A,percentageRef:c,optionsKeyVisiable:p,promptVisiableRef:_,promptActiveRef:o,listDataRef:r,activeNumRef:e,btnVal:S,onNextTopic:y,clickPrompt:E}}},h=n=>(w("data-v-954d71b1"),n=n(),V(),n),G={class:"answer-container"},B={class:"card-style"},j={class:"title-box-style flex-start"},H={class:"title-left-style"},K={class:"station-name"},X={class:"subject-total"},Y={class:"current-subject"},z={class:"problem-box-style"},q={class:"problem-type-style"},J=h(()=>s("span",{class:"multiple-choice-style"},"(\u591A\u9009)",-1)),Z={class:"problem-style"},Q=["onClick"],$={class:"options-number-style"},ee={class:"options-content-style"},se={class:"operation-box-style flex"},ne={class:"prompt-box-style"},oe={class:"prompt-title-style"},ae=h(()=>s("span",null,"\u63D0\u793A:",-1)),ie={class:"prompt-content-style"};function _e(n,P,r,e,C,S){const c=v("van-image"),E=v("van-progress"),p=v("van-button");return R(),D("div",G,[s("div",B,[s("header",null,[s("div",j,[s("div",H,[l(c,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),s("span",K,i(e.listDataRef[e.activeNumRef-1].stationTitle),1)]),s("div",X,[s("span",Y,"0"+i(e.activeNumRef),1),d(" /"+i(e.listDataRef.length),1)])]),l(E,{class:"progress-style",percentage:e.percentageRef,"stroke-width":"1","show-pivot":!1,color:"#F2487D","track-color":"#E6E6E6"},null,8,["percentage"])]),s("article",null,[s("div",z,[s("p",q,[d(i(e.listDataRef[e.activeNumRef-1].title)+" ",1),J]),s("p",Z,i(e.listDataRef[e.activeNumRef-1].topic),1)]),s("ul",null,[(R(!0),D(k,null,U(e.listDataRef[e.activeNumRef-1].options,(_,m)=>(R(),D("li",{key:m,class:L(["flex-start",{"active-li-style":e.promptActiveRef.includes(_.value),"unfinish-li-style":!r.finishVideo}]),onClick:o=>e.clickPrompt(_.value)},[s("div",$,i(e.optionsKeyVisiable(m))+". ",1),s("p",ee,i(_.label),1),f(l(c,{class:"active-img-style",src:e.getImgUrl("subject_select.png")},null,8,["src"]),[[O,e.promptActiveRef.includes(_.value)]])],10,Q))),128))]),s("footer",null,[s("div",se,[l(p,{class:"global-btn-style check-prompt-btn-style",color:"#EEEEEE",onClick:e.showTips},{default:I(()=>[d(" \u67E5\u770B\u63D0\u793A ")]),_:1},8,["onClick"]),l(p,{class:"global-btn-style next-btn-style",color:"#F2487D",round:"",onClick:e.onNextTopic},{default:I(()=>[d(i(e.btnVal),1)]),_:1},8,["onClick"])])])])]),f(s("div",ne,[s("p",oe,[l(c,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),ae]),s("p",ie,i(e.listDataRef[e.activeNumRef-1].hint),1)],512),[[O,e.promptVisiableRef]])])}const ce=b(W,[["render",_e],["__scopeId","data-v-954d71b1"]]);export{ce as default};
