import{g as i}from"./ak.1933dec5.js";import{_ as N,s as U,r,u as V,a as x,o as C,c as P,b as t,F as q,x as z,w as _,v as g,t as h,q as p,d as D,k as B,n as M,e as l,T as w}from"./index.cc67b426.js";const Y={setup(){const v=U([{id:1,name:"\u65B0\u5A5A\u671F",img:i("phase_love_common.png"),img2:i("phase_love_active.png"),isSelect:!1},{id:2,name:"\u5907\u5B55\u4E2D",img:i("phase_pregnancy_per_common.png"),img2:i("phase_pregnancy_per_active.png"),isSelect:!1},{id:3,name:"\u6000\u5B55\u4E2D",img:i("phase_pregnancy_now_common.png"),img2:i("phase_pregnancy_now_active.png"),isSelect:!1},{id:4,name:"\u5DF2\u80B2\u513F",img:i("phase_birth_common.png"),img2:i("phase_birth_active.png"),isSelect:!1}]),a=r(0),c=r(""),e=r(""),d=r(""),S=o=>{v.forEach(F=>F.isSelect=!1),v[o].isSelect=!0,o==0&&(d.value="\u7ED3\u5A5A\u65E5\u671F",c.value="\u8BF7\u9009\u62E9\u7ED3\u5A5A\u65E5\u671F",e.value=""),o==1&&(d.value="",c.value="",e.value=""),o==2&&(d.value="\u9884\u4EA7\u671F",c.value="\u8BF7\u9009\u62E9\u9884\u4EA7\u671F",e.value=""),o==3&&(d.value="\u5B9D\u5B9D\u4FE1\u606F",c.value="\u8BF7\u9009\u62E9\u5B9D\u5B9D\u751F\u65E5",e.value="\u8BF7\u9009\u62E9\u5B9D\u5B9D\u6027\u522B"),a.value=v[o].id},k=U([{text:"\u7537",value:1},{text:"\u5973",value:2}]),f=r(!1),s=r(null),n=o=>{s.value=o,f.value=!1},u=r(!1),m=r({}),L=o=>{m.value=o,console.log(m.value),u.value=!1},T=o=>{if(o)return M(o).format("YYYY-MM-DD")},b=V(),E=()=>{l().setTagId(a.value),a.value==1&&y(),a.value==2&&y(),a.value==3&&I(),a.value==4&&R()},y=async()=>{if(!s.value){w("\u8BF7\u9009\u62E9\u65E5\u671F");return}l().setMarrigeDate(),await l().reqEditUserInfoAPI(),b.push({path:"/toReceivePrize"})},I=async()=>{if(!s.value){w("\u8BF7\u9009\u62E9\u65E5\u671F");return}l().setBabyBirthday(s.value),l().setPregnantDate(s.value),await l().reqEditUserInfoAPI(),b.push({path:"/toReceivePrize"})},R=async()=>{if(!m.value.value){w("\u8BF7\u9009\u62E9\u6027\u522B");return}if(!s.value){w("\u8BF7\u9009\u62E9\u65E5\u671F");return}l().setBabyBirthday(s.value),l().setBabyGender(m.value.value),await l().reqEditUserInfoAPI(),b.push({path:"/toReceivePrize"})};return{firstLineTitle:c,secondLineTitle:e,idRef:a,titleRef:d,getImgUrl:i,phaseList:v,handleMarrige:y,handlePregnant:I,handleBaby:R,handleSelect:S,handleNext:E,showDatePicker:f,currentDate:s,onDateConfirm:n,showDatePicker2:u,currentDate2:m,onDateConfirm2:L,dateFormat:T,columns:k,minDate:new Date(1960,1,1)}}},A={class:"flex-column"},G={class:"card-box"},j=["onClick"],H=["src"],J=["src"],K={class:"baby-info"},O={class:"baby-info-title"},Q=["src"],W=["src"],X={class:"bottom-wrap"},Z=["src"];function $(v,a,c,e,d,S){const k=x("van-datetime-picker"),f=x("van-popup"),s=x("van-picker");return C(),P("div",A,[t("div",G,[(C(!0),P(q,null,z(e.phaseList,(n,u)=>(C(),P("div",{class:p(["phase-box",{active:n.isSelect}]),key:u,onClick:m=>e.handleSelect(u)},[t("div",null,[_(t("img",{class:"phase-img",src:n.img,alt:""},null,8,H),[[g,!n.isSelect]]),_(t("img",{class:"phase-img",src:n.img2,alt:""},null,8,J),[[g,n.isSelect]]),t("div",{class:p(["phase-name",{active:n.isSelect}])},h(n.name),3)])],10,j))),128))]),_(t("div",K,[t("div",O,h(e.titleRef),1),_(t("div",{class:"flex picker-wrap",onClick:a[0]||(a[0]=n=>e.showDatePicker2=!0)},[t("span",{class:p(["common",{char:e.currentDate2.value}])},h(e.currentDate2.text||e.secondLineTitle),3),t("img",{class:"arr-icon",src:e.getImgUrl("picker_arr.png"),alt:""},null,8,Q)],512),[[g,e.idRef==4]]),t("div",{class:"flex picker-wrap",onClick:a[1]||(a[1]=n=>e.showDatePicker=!0)},[t("span",{class:p(["common",{char:e.dateFormat(e.currentDate)}])},h(e.dateFormat(e.currentDate)||e.firstLineTitle),3),t("img",{class:"arr-icon",src:e.getImgUrl("picker_arr.png"),alt:""},null,8,W)])],512),[[g,e.idRef!=2&&e.idRef>0]]),t("div",X,[t("button",{class:"btn-bottom",onClick:a[2]||(a[2]=(...n)=>e.handleNext&&e.handleNext(...n))},"\u514D\u8D39\u8BA2\u9605\u5E76\u62BD\u5956"),t("img",{class:"c-bottom",src:e.getImgUrl("login_img_circle.png"),alt:""},null,8,Z)]),D(f,{show:e.showDatePicker,"onUpdate:show":a[5]||(a[5]=n=>e.showDatePicker=n),round:"",position:"bottom"},{default:B(()=>[D(k,{onCancel:a[3]||(a[3]=n=>e.showDatePicker=!1),onConfirm:e.onDateConfirm,"min-date":e.minDate,modelValue:e.currentDate,"onUpdate:modelValue":a[4]||(a[4]=n=>e.currentDate=n),type:"date"},null,8,["onConfirm","min-date","modelValue"])]),_:1},8,["show"]),D(f,{show:e.showDatePicker2,"onUpdate:show":a[7]||(a[7]=n=>e.showDatePicker2=n),round:"",position:"bottom"},{default:B(()=>[D(s,{title:"\u6027\u522B",columns:e.columns,onConfirm:e.onDateConfirm2,onCancel:a[6]||(a[6]=n=>e.showDatePicker2=!1)},null,8,["columns","onConfirm"])]),_:1},8,["show"])])}const ne=N(Y,[["render",$],["__scopeId","data-v-4fd63f57"]]);export{ne as default};
