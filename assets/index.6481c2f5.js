import{e as h,_ as R,q as D,f as d,u as v,z as O,r as P,o as i,c as p,g as s,a as l,F as S,n as E,s as A,t as I,B as y}from"./index.c0ad3219.js";import{g as k}from"./ak.f9236663.js";import{u as U}from"./useMyMock.58f28b1f.js";const b=async a=>await h("https://api.lc.familyeducation.org.cn/v1/article/info/get",a),N=async a=>await h("https://api.lc.familyeducation.org.cn/v1/article/content/list",a);const T={components:{Video:D(()=>A(()=>import("./Video.df9fbfd5.js"),["assets/Video.df9fbfd5.js","assets/index.c0ad3219.js","assets/index.145fdbd3.css"])),Audio:D(()=>A(()=>import("./Audio.74181edf.js"),["assets/Audio.74181edf.js","assets/Audio.0f4ded21.css","assets/index.c0ad3219.js","assets/index.145fdbd3.css","assets/ak.f9236663.js"]))},setup(){const a=d({}),f=d([]),r=d(""),e=v();O(()=>{let o=e.currentRoute.value.query.article_id;b({id:o}).then(c=>{a.value=c}),N({aid:o}).then(c=>{let n=c.filter(_=>_.type=="audio"),m=c.filter(_=>_.type!="audio");n.length&&m.push({type:"audio",name:n[0].name,rank:n[0].rank,children:n}),m.sort((_,t)=>_.rank>t.rank?1:-1),f.value=m})});const u=d([]),C=o=>{u.value.push(o)},g=o=>{r.value&&u.value[r.value.split("_")[1]].changeAudioSuspend(),r.value=o};return{getImgUrl:k,articleInfo:a,...U(),articleContent:f,getDom:C,onStartPlayer:g}}},w={class:"weekly-during-pregnancy-container"},M={class:"card-header-style"},F={class:"card-title-style"},L=["innerHTML"],x={key:1,class:"video-box-style"},G={key:2,class:"audio-box-style flex"};function W(a,f,r,e,u,C){const g=P("van-image"),o=P("Video"),c=P("Audio");return i(),p("div",w,[s("header",null,[l(g,{src:e.getImgUrl(e.articleInfo.img)},null,8,["src"])]),s("article",null,[(i(!0),p(S,null,E(e.articleContent,(n,m)=>(i(),p("div",{key:m,class:"article-content-style"},[s("div",M,[l(g,{class:"weekly_title_box-img-style",src:e.getImgUrl("weekly_title_box.png")},null,8,["src"]),s("p",F,I(n.name),1)]),n.type==="default"||n.type==="multi"||n.type==="text"?(i(),p("div",{key:0,class:"rich-text-box-style",innerHTML:n.content},null,8,L)):n.type=="video"?(i(),p("div",x,[s("ul",null,[s("li",null,[l(o,{videoId:"weekPlayer",videoUrl:n.url,poster:n.extra},null,8,["videoUrl","poster"])])])])):n.type=="audio"?(i(),p("div",G,[s("ul",null,[(i(!0),p(S,null,E(n.children,(_,t)=>(i(),p("li",{key:t},[l(c,{ref_for:!0,ref:e.getDom,audioId:"audio_"+t,title:_.title,tagName:_.tag,playNum:_.content+"w",avatarUrl:e.getImgUrl(_.extra),audioUrl:_.url,onStartPlaye:e.onStartPlayer},null,8,["audioId","title","tagName","playNum","avatarUrl","audioUrl","onStartPlaye"])]))),128))])])):y("",!0)]))),128))])])}const z=R(T,[["render",W],["__scopeId","data-v-fdb98b82"]]);export{z as default};
