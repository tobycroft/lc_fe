import{g as N,p as O}from"./ak.1933dec5.js";import{j as F,_ as h,r,K as M,a as D,o as g,c as u,b as s,d as m,t,m as E,F as T,x as y,q as U,w as A,v,k as I,T as d,p as b,i as L}from"./index.6e6e1e56.js";const W=async n=>await F("https://api.lc.familyeducation.org.cn/v1/quiz/record/add",n);const V={name:"Answer",props:{finishVideo:{type:Boolean,default:!1},activeNum:{type:Number,default:1},listData:{type:[Array,Object],default:()=>{}}},setup(n,p){const a=r([]),e=r(1),P=r(),C=r("\u4E0B\u4E00\u9898"),i=r(0),S=c=>{n.finishVideo?o.value=c:d("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898")},l=c=>{switch(c){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return""}},_=r(!1),o=r(null),R=async()=>{if(e.value==9&&(C.value="\u63D0\u4EA4"),!n.finishVideo){d("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898");return}if(o.value==null){d("\u8BF7\u9009\u62E9\u95EE\u9898\u7B54\u6848");return}if(l(o.value)!=a.value[e.value-1].answer){d("\u7B54\u6848\u4E0D\u6B63\u786E\uFF0C\u770B\u770B\u63D0\u793A\u518D\u4F5C\u7B54\u5427");return}let c=await W({qs_id:e.value,choice:l(o.value)});o.value=null,_.value=!1,p.emit("change",c.gift_info)};return M(()=>{a.value=n.listData,e.value=n.activeNum,P.value=a.value.length,i.value=O(e.value,P.value)}),{getImgUrl:N,percentage:O,percentageRef:i,optionsKeyVisiable:l,promptVisiableRef:_,promptActiveRef:o,listDataRef:a,activeNumRef:e,btnVal:C,onNextTopic:R,clickPrompt:S}}},f=n=>(b("data-v-d0b0862f"),n=n(),L(),n),x={class:"answer-container"},j={class:"card-style"},q={class:"title-box-style flex-start"},w={class:"title-left-style"},G=f(()=>s("span",{class:"station-name"},"\u7B2C\u4E00\u7AD9 \xB7 \u4E00\u5FC3\u4E00\u610F",-1)),K={class:"subject-total"},k={class:"current-subject"},H={class:"problem-box-style"},B={class:"problem-type-style"},X={class:"problem-style"},J=["onClick"],z={class:"options-number-style"},Y={class:"options-content-style"},Q={class:"operation-box-style flex"},Z={class:"prompt-box-style"},$={class:"prompt-title-style"},ee=f(()=>s("span",null,"\u63D0\u793A:",-1)),se={class:"prompt-content-style"};function oe(n,p,a,e,P,C){const i=D("van-image"),S=D("van-progress"),l=D("van-button");return g(),u("div",x,[s("div",j,[s("header",null,[s("div",q,[s("div",w,[m(i,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),G]),s("div",K,[s("span",k,"0"+t(e.activeNumRef),1),E(" /"+t(e.listDataRef.length),1)])]),m(S,{class:"progress-style",percentage:e.percentageRef,"stroke-width":"1","show-pivot":!1,color:"#F2487D","track-color":"#E6E6E6"},null,8,["percentage"])]),s("article",null,[s("div",H,[s("p",B,t(e.listDataRef[e.activeNumRef-1].title),1),s("p",X,t(e.listDataRef[e.activeNumRef-1].topic),1)]),s("ul",null,[(g(!0),u(T,null,y(e.listDataRef[e.activeNumRef-1].options,(_,o)=>(g(),u("li",{key:o,class:U(["flex-start",{"active-li-style":e.promptActiveRef===o,"unfinish-li-style":!a.finishVideo}]),onClick:R=>e.clickPrompt(o)},[s("div",z,t(e.optionsKeyVisiable(o))+". ",1),s("p",Y,t(_.label),1),A(m(i,{class:"active-img-style",src:e.getImgUrl("subject_select.png")},null,8,["src"]),[[v,e.promptActiveRef===o]])],10,J))),128))]),s("footer",null,[s("div",Q,[m(l,{class:"global-btn-style check-prompt-btn-style",color:"#EEEEEE",onClick:p[0]||(p[0]=_=>e.promptVisiableRef=!0)},{default:I(()=>[E(" \u67E5\u770B\u63D0\u793A ")]),_:1}),m(l,{class:"global-btn-style next-btn-style",color:"#F2487D",round:"",onClick:e.onNextTopic},{default:I(()=>[E(t(e.btnVal),1)]),_:1},8,["onClick"])])])])]),A(s("div",Z,[s("p",$,[m(i,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),ee]),s("p",se,t(e.listDataRef[e.activeNumRef-1].hint),1)],512),[[v,e.promptVisiableRef]])])}const re=h(V,[["render",oe],["__scopeId","data-v-d0b0862f"]]);export{re as default};
