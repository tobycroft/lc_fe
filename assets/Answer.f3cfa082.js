import{g as N,p as R}from"./ak.696322b3.js";import{r as I,_ as h,f as l,K as y,h as D,o as g,c as u,a as s,i as m,t as r,k as E,F as M,s as T,z as F,j as O,v as A,w as v,T as P,p as U,m as b}from"./index.cc8fbe19.js";const L=async o=>await I("https://api.lc.familyeducation.org.cn/v1/quiz/record/add",o);const V={name:"Answer",props:{finishVideo:{type:Boolean,default:!1},activeNum:{type:Number,default:1},listData:{type:[Array,Object],default:()=>{}}},setup(o,d){const a=l([]),e=l(1),C=l(),S=l(0),c=i=>{o.finishVideo?n.value=i:P("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898")},_=i=>{switch(i){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return""}},p=l(!1),n=l(null),t=async()=>{if(!o.finishVideo){P("\u9700\u770B\u5B8C\u89C6\u9891\u624D\u53EF\u7B54\u9898");return}if(n.value==null){P("\u8BF7\u9009\u62E9\u95EE\u9898\u7B54\u6848");return}if(_(n.value)!=a.value[e.value-1].answer){P("\u7B54\u6848\u4E0D\u6B63\u786E\uFF0C\u770B\u770B\u63D0\u793A\u518D\u4F5C\u7B54\u5427");return}let i=await L({qs_id:e.value,choice:_(n.value)});n.value=null,p.value=!1,d.emit("change",i.gift_info)};return y(()=>{a.value=o.listData,e.value=o.activeNum,C.value=a.value.length,S.value=R(e.value,C.value)}),{getImgUrl:N,percentage:R,percentageRef:S,optionsKeyVisiable:_,promptVisiableRef:p,promptActiveRef:n,listDataRef:a,activeNumRef:e,onNextTopic:t,clickPrompt:c}}},f=o=>(U("data-v-b7f4bf8f"),o=o(),b(),o),W={class:"answer-container"},x={class:"card-style"},j={class:"title-box-style flex-start"},w={class:"title-left-style"},q=f(()=>s("span",{class:"station-name"},"\u7B2C\u4E00\u7AD9 \xB7 \u4E00\u5FC3\u4E00\u610F",-1)),G={class:"subject-total"},k={class:"current-subject"},K={class:"problem-box-style"},H={class:"problem-type-style"},B={class:"problem-style"},X=["onClick"],J={class:"options-number-style"},z={class:"options-content-style"},Q={class:"operation-box-style flex"},Y={class:"prompt-box-style"},Z={class:"prompt-title-style"},$=f(()=>s("span",null,"\u63D0\u793A:",-1)),ee={class:"prompt-content-style"};function se(o,d,a,e,C,S){const c=D("van-image"),_=D("van-progress"),p=D("van-button");return g(),u("div",W,[s("div",x,[s("header",null,[s("div",j,[s("div",w,[m(c,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),q]),s("div",G,[s("span",k,"0"+r(e.activeNumRef),1),E(" /"+r(e.listDataRef.length),1)])]),m(_,{class:"progress-style",percentage:e.percentageRef,"stroke-width":"1","show-pivot":!1,color:"#F2487D","track-color":"#E6E6E6"},null,8,["percentage"])]),s("article",null,[s("div",K,[s("p",H,r(e.listDataRef[e.activeNumRef-1].title),1),s("p",B,r(e.listDataRef[e.activeNumRef-1].topic),1)]),s("ul",null,[(g(!0),u(M,null,T(e.listDataRef[e.activeNumRef-1].options,(n,t)=>(g(),u("li",{key:t,class:F(["flex-start",{"active-li-style":e.promptActiveRef===t,"unfinish-li-style":!a.finishVideo}]),onClick:i=>e.clickPrompt(t)},[s("div",J,r(e.optionsKeyVisiable(t))+". ",1),s("p",z,r(n.label),1),O(m(c,{class:"active-img-style",src:e.getImgUrl("subject_select.png")},null,8,["src"]),[[A,e.promptActiveRef===t]])],10,X))),128))]),s("footer",null,[s("div",Q,[m(p,{class:"global-btn-style check-prompt-btn-style",color:"#EEEEEE",onClick:d[0]||(d[0]=n=>e.promptVisiableRef=!0)},{default:v(()=>[E(" \u67E5\u770B\u63D0\u793A ")]),_:1}),m(p,{class:"global-btn-style next-btn-style",color:"#F2487D",round:"",onClick:e.onNextTopic},{default:v(()=>[E(" \u63D0\u4EA4 ")]),_:1},8,["onClick"])])])])]),O(s("div",Y,[s("p",Z,[m(c,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),$]),s("p",ee,r(e.listDataRef[e.activeNumRef-1].hint),1)],512),[[A,e.promptVisiableRef]])])}const te=h(V,[["render",se],["__scopeId","data-v-b7f4bf8f"]]);export{te as default};
