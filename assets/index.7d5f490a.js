import{_ as V,x,f as v,E as C,u as L,B as M,h as u,o as a,c as n,a as r,i as c,F as A,s as I,w as S,z as P,y as b,t as D,G as U,k as E}from"./index.edceae53.js";import{g as N}from"./ak.42431a64.js";import{u as T}from"./useMyMock.dab5a331.js";import{g as w,a as R}from"./article.91833c23.js";const B={components:{Video:x(()=>b(()=>import("./Video.43eb20be.js"),["assets/Video.43eb20be.js","assets/index.edceae53.js","assets/index.de1567a4.css"])),Audio:x(()=>b(()=>import("./Audio.fe80cd15.js"),["assets/Audio.fe80cd15.js","assets/Audio.0f4ded21.css","assets/index.edceae53.js","assets/index.de1567a4.css","assets/ak.42431a64.js"])),Audio3:x(()=>b(()=>import("./Audio3.7acedffe.js"),["assets/Audio3.7acedffe.js","assets/Audio3.21581a0b.css","assets/index.edceae53.js","assets/index.de1567a4.css","assets/ak.42431a64.js"]))},setup(){const f=v({}),s=v([]),_=v(""),t=C(()=>{if(s.value[0])return s.value[0].type!="combine_audio"}),g=L();M(()=>{let l=g.currentRoute.value.query.article_id;w({id:l}).then(i=>{f.value=i}),R({aid:l}).then(i=>{let e=i.filter(o=>o.type=="audio"),d=i.filter(o=>o.type!="audio");e.length&&d.push({type:"audio",name:e[0].name,rank:e[0].rank,children:e}),d.sort((o,p)=>o.rank>p.rank?1:-1),s.value=d})});const m=v([]),y=l=>{m.value.push(l)},h=l=>{_.value&&m.value[_.value.split("_")[1]].changeAudioSuspend(),_.value=l},k=()=>{g.push({path:"/selectPhase"})};return{getImgUrl:N,articleInfo:f,...T(),articleContent:s,isMargin:t,getDom:y,onStartPlayer:h,reselect:k}}},H={class:"weekly-during-pregnancy-container"},F={key:0,class:"card-header-style"},O={class:"card-title-style"},z=["innerHTML"],q={key:2,class:"video-box-style"},G={key:3,class:"audio-box-style flex"},j={key:4},J={class:"audio-box-style flex"},K=["innerHTML"];function Q(f,s,_,t,g,m){const y=u("van-image"),h=u("Video"),k=u("Audio"),l=u("Audio3"),i=u("van-button");return a(),n("div",H,[r("header",null,[c(y,{style:{display:"block"},src:t.articleInfo.img},null,8,["src"])]),r("article",{class:P({active:t.isMargin})},[(a(!0),n(A,null,I(t.articleContent,(e,d)=>(a(),n("div",{key:d,class:P(["article-content-style",{"combine-audio-style":e.type=="combine_audio"}])},[e.type!=="combine_audio"?(a(),n("div",F,[c(y,{class:"weekly_title_box-img-style",src:t.getImgUrl("weekly_title_box.png")},null,8,["src"]),r("div",O,D(e.name),1)])):U("",!0),e.type==="default"||e.type==="multi"||e.type==="text"?(a(),n("div",{key:1,class:"rich-text-box-style",innerHTML:e.content},null,8,z)):e.type=="video"?(a(),n("div",q,[r("ul",null,[r("li",null,[c(h,{videoId:"weekPlayer",videoUrl:e.url,poster:e.extra},null,8,["videoUrl","poster"])])])])):e.type=="audio"?(a(),n("div",G,[r("ul",null,[(a(!0),n(A,null,I(e.children,(o,p)=>(a(),n("li",{key:p},[c(k,{ref_for:!0,ref:t.getDom,audioId:"audio_"+p,title:o.title,tagName:o.tag,playNum:o.content+"w",avatarUrl:t.getImgUrl(o.extra),audioUrl:o.url,onStartPlaye:t.onStartPlayer},null,8,["audioId","title","tagName","playNum","avatarUrl","audioUrl","onStartPlaye"])]))),128))])])):e.type=="combine_audio"?(a(),n("div",j,[c(l,{ref_for:!0,ref:t.getDom,audioId:e.id,title:e.title,audioUrl:e.url,onStartPlaye:t.onStartPlayer},null,8,["audioId","title","audioUrl","onStartPlaye"]),r("div",J,[r("div",{class:"content",innerHTML:e.content},null,8,K)])])):U("",!0)],2))),128)),r("div",{class:"btn",onClick:s[0]||(s[0]=(...e)=>t.reselect&&t.reselect(...e))},[c(i,{color:"#F2487D",round:""},{default:S(()=>[E("\u91CD\u65B0\u9009\u62E9\u9636\u6BB5")]),_:1})])],2)])}const $=V(B,[["render",Q],["__scopeId","data-v-f33628ab"]]);export{$ as default};
