import{g as i}from"./ak.1933dec5.js";import{_ as L,s as T,r as l,u as E,a as U,o as y,c as b,b as n,F as N,x as q,w as u,v as g,t as h,q as p,d as D,k as R,n as z,e as r,T as C}from"./index.6e6e1e56.js";const M={setup(){const m=T([{id:1,name:"\u65B0\u5A5A\u671F",img:i("phase_love_common.png"),img2:i("phase_love_active.png"),isSelect:!1},{id:2,name:"\u5907\u5B55\u4E2D",img:i("phase_pregnancy_per_common.png"),img2:i("phase_pregnancy_per_active.png"),isSelect:!1},{id:3,name:"\u6000\u5B55\u4E2D",img:i("phase_pregnancy_now_common.png"),img2:i("phase_pregnancy_now_active.png"),isSelect:!1},{id:4,name:"\u5DF2\u80B2\u513F",img:i("phase_birth_common.png"),img2:i("phase_birth_active.png"),isSelect:!1}]),a=l(0),c=l(""),e=l(""),d=l(""),P=o=>{m.forEach(F=>F.isSelect=!1),m[o].isSelect=!0,o==0&&(d.value="\u7ED3\u5A5A\u65E5\u671F",c.value="\u8BF7\u9009\u62E9\u7ED3\u5A5A\u65E5\u671F",e.value=""),o==1&&(d.value="",c.value="",e.value=""),o==2&&(d.value="\u9884\u4EA7\u671F",c.value="\u8BF7\u9009\u62E9\u9884\u4EA7\u671F",e.value=""),o==3&&(d.value="\u5B9D\u5B9D\u4FE1\u606F",c.value="\u8BF7\u9009\u62E9\u5B9D\u5B9D\u6027\u522B",e.value="\u8BF7\u9009\u62E9\u5B9D\u5B9D\u751F\u65E5"),a.value=m[o].id},v=l(!1),s=l(null),t=o=>{s.value=o,v.value=!1},f=l(!1),_=l(null),B=o=>{_.value=o,f.value=!1},x=o=>{if(o)return z(o).format("YYYY-MM-DD")},w=E(),V=()=>{r().setTagId(a.value),a.value==1&&k(),a.value==2&&k(),a.value==3&&S(),a.value==4&&I()},k=async()=>{if(!s.value){C("\u8BF7\u9009\u62E9\u65E5\u671F");return}r().setMarrigeDate(),await r().reqEditUserInfoAPI(),w.push({path:"/toReceivePrize"})},S=async()=>{if(!s.value){C("\u8BF7\u9009\u62E9\u65E5\u671F");return}r().setBabyBirthday(s.value),r().setPregnantDate(s.value),await r().reqEditUserInfoAPI(),w.push({path:"/toReceivePrize"})},I=async()=>{if(!s.value||!_.value){C("\u8BF7\u9009\u62E9\u65E5\u671F");return}r().setBabyBirthday(s.value),r().setBabyGender(x(_.value)),await r().reqEditUserInfoAPI(),w.push({path:"/toReceivePrize"})};return{firstLineTitle:c,secondLineTitle:e,idRef:a,titleRef:d,getImgUrl:i,phaseList:m,handleMarrige:k,handlePregnant:S,handleBaby:I,handleSelect:P,handleNext:V,showDatePicker:v,currentDate:s,onDateConfirm:t,showDatePicker2:f,currentDate2:_,onDateConfirm2:B,dateFormat:x,minDate:new Date(1960,1,1)}}},Y={class:"flex-column"},A={class:"card-box"},G=["onClick"],j=["src"],H=["src"],J={class:"baby-info"},K={class:"baby-info-title"},O=["src"],Q=["src"],W={class:"bottom-wrap"},X=["src"];function Z(m,a,c,e,d,P){const v=U("van-datetime-picker"),s=U("van-popup");return y(),b("div",Y,[n("div",A,[(y(!0),b(N,null,q(e.phaseList,(t,f)=>(y(),b("div",{class:p(["phase-box",{active:t.isSelect}]),key:f,onClick:_=>e.handleSelect(f)},[n("div",null,[u(n("img",{class:"phase-img",src:t.img,alt:""},null,8,j),[[g,!t.isSelect]]),u(n("img",{class:"phase-img",src:t.img2,alt:""},null,8,H),[[g,t.isSelect]]),n("div",{class:p(["phase-name",{active:t.isSelect}])},h(t.name),3)])],10,G))),128))]),u(n("div",J,[n("div",K,h(e.titleRef),1),n("div",{class:"flex picker-wrap",onClick:a[0]||(a[0]=t=>e.showDatePicker=!0)},[n("span",{class:p(["common",{char:e.dateFormat(e.currentDate)}])},h(e.dateFormat(e.currentDate)||e.firstLineTitle),3),n("img",{class:"arr-icon",src:e.getImgUrl("picker_arr.png"),alt:""},null,8,O)]),u(n("div",{class:"flex picker-wrap",onClick:a[1]||(a[1]=t=>e.showDatePicker2=!0)},[n("span",{class:p(["common",{char:e.dateFormat(e.currentDate2)}])},h(e.dateFormat(e.currentDate2)||e.secondLineTitle),3),n("img",{class:"arr-icon",src:e.getImgUrl("picker_arr.png"),alt:""},null,8,Q)],512),[[g,e.idRef==4]])],512),[[g,e.idRef!=2&&e.idRef>0]]),n("div",W,[n("button",{class:"btn-bottom",onClick:a[2]||(a[2]=(...t)=>e.handleNext&&e.handleNext(...t))},"\u514D\u8D39\u8BA2\u9605\u5E76\u62BD\u5956"),n("img",{class:"c-bottom",src:e.getImgUrl("login_img_circle.png"),alt:""},null,8,X)]),D(s,{show:e.showDatePicker,"onUpdate:show":a[5]||(a[5]=t=>e.showDatePicker=t),round:"",position:"bottom"},{default:R(()=>[D(v,{onCancel:a[3]||(a[3]=t=>e.showDatePicker=!1),onConfirm:e.onDateConfirm,"min-date":e.minDate,modelValue:e.currentDate,"onUpdate:modelValue":a[4]||(a[4]=t=>e.currentDate=t),type:"date"},null,8,["onConfirm","min-date","modelValue"])]),_:1},8,["show"]),D(s,{show:e.showDatePicker2,"onUpdate:show":a[8]||(a[8]=t=>e.showDatePicker2=t),round:"",position:"bottom"},{default:R(()=>[D(v,{onCancel:a[6]||(a[6]=t=>e.showDatePicker2=!1),onConfirm:e.onDateConfirm2,"min-date":e.minDate,modelValue:e.currentDate2,"onUpdate:modelValue":a[7]||(a[7]=t=>e.currentDate2=t),type:"date"},null,8,["onConfirm","min-date","modelValue"])]),_:1},8,["show"])])}const ae=L(M,[["render",Z],["__scopeId","data-v-7417e157"]]);export{ae as default};
