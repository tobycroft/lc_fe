import{g as R,p as A}from"./ak.f9236663.js";import{e as O,_ as y,f as p,B as b,r as f,o as u,c as C,g as e,a as t,t as a,F as I,n as k,h as D,v as E,w as h,d as P,T as S,p as N,i as U}from"./index.a1ae1f1d.js";const w=async _=>await O("https://api.lc.familyeducation.org.cn/v1/quiz/record/add",_);const T={name:"Answer",props:{activeNum:{type:Number,default:1},listData:{type:[Array,Object],default:()=>{}}},setup(_,r){const c=p([]),n=p(1),l=p(),d=p(0),s=o=>{switch(o){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return""}},m=p(!1),i=p(null),g=async()=>{if(i.value==null){S("\u8BF7\u9009\u62E9\u95EE\u9898\u7B54\u6848");return}if(s(i.value)!=c.value[n.value-1].answer){S("\u7B54\u6848\u4E0D\u6B63\u786E\uFF0C\u770B\u770B\u63D0\u793A\u518D\u4F5C\u7B54\u5427");return}let o=await w({qs_id:n.value,choice:s(i.value)});i.value=null,m.value=!1,r.emit("change",o.gift_info)};return b(()=>{c.value=_.listData,n.value=_.activeNum,l.value=c.value.length,d.value=A(n.value,l.value)}),{getImgUrl:R,percentage:A,percentageRef:d,optionsKeyVisiable:s,promptVisiableRef:m,promptActiveRef:i,listDataRef:c,activeNumRef:n,onNextTopic:g}}},v=_=>(N("data-v-908f43d9"),_=_(),U(),_),M={class:"answer-container"},F={class:"card-style"},x={class:"title-box-style flex-start"},L={class:"problem-box-style"},G={class:"problem-type-style"},V={class:"problem-style"},W=["onClick"],j={class:"options-number-style"},H={class:"options-content-style"},z={class:"prompt-box-style"},B=v(()=>e("p",{class:"prompt-title-style"},"\u63D0\u793A:",-1)),J={class:"prompt-content-style"},X={class:"operation-box-style flex"},Z=v(()=>e("div",{class:"organizer-box-style"},[e("p",{class:"organizer-name-style"},"\u664B\u6C5F\u5E02\u6C11\u653F\u5C40"),e("p",{class:"organizer-name-style"},"\u664B\u6C5F\u5E02\u5987\u5973\u8054\u5408\u4F1A"),e("p",{class:"tips-style"},"\u8054\u5408\u4E3B\u529E")],-1));function K(_,r,c,n,l,d){const s=f("van-image"),m=f("van-progress"),i=f("van-button");return u(),C("div",M,[e("div",F,[e("header",null,[e("div",x,[t(s,{class:"title-circular-style",src:n.getImgUrl("title_circular.png")},null,8,["src"]),e("p",null,"\u9898\u76EE"+a(n.activeNumRef)+"\uFF08\u5171"+a(n.listDataRef.length)+"\u9898\uFF09",1)]),t(m,{class:"progress-style",percentage:n.percentageRef,"stroke-width":"8","show-pivot":!1,color:"#F2487D","track-color":"#E6E6E6"},null,8,["percentage"])]),e("article",null,[e("div",L,[e("p",G,a(n.listDataRef[n.activeNumRef-1].title),1),e("p",V,a(n.listDataRef[n.activeNumRef-1].topic),1)]),e("ul",null,[(u(!0),C(I,null,k(n.listDataRef[n.activeNumRef-1].options,(g,o)=>(u(),C("li",{key:o,class:"flex-start",onClick:q=>n.promptActiveRef=o},[e("div",j,[D(e("p",null,a(n.optionsKeyVisiable(o)),513),[[E,n.promptActiveRef!==o]]),D(t(s,{class:"active-img-style",src:n.getImgUrl("subject_select.png")},null,8,["src"]),[[E,n.promptActiveRef===o]])]),e("p",H,a(g.label),1)],8,W))),128))]),D(e("div",z,[B,e("p",J,a(n.listDataRef[n.activeNumRef-1].hint),1)],512),[[E,n.promptVisiableRef]])]),e("footer",null,[e("div",X,[t(i,{class:"global-btn-style check-prompt-btn-style",color:"#FFE4EC",round:"",onClick:r[0]||(r[0]=g=>n.promptVisiableRef=!0)},{default:h(()=>[P(" \u67E5\u770B\u63D0\u793A ")]),_:1}),t(i,{class:"global-btn-style next-btn-style",color:"#F2487D",round:"",onClick:n.onNextTopic},{default:h(()=>[P(" \u4E0B\u4E00\u9898 ")]),_:1},8,["onClick"])]),Z])])])}const $=y(T,[["render",K],["__scopeId","data-v-908f43d9"]]);export{$ as default};
