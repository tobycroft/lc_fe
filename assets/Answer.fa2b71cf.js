import{g as I,p as E}from"./ak.5d6542c6.js";import{r as N,_ as f,f as i,H as M,h as C,o as S,c as g,a as s,i as m,t,F as y,s as F,j as D,v as u,w as R,k as O,T as A,p as T,m as h}from"./index.c6c685e0.js";const U=async o=>await N("https://api.lc.familyeducation.org.cn/v1/quiz/record/add",o);const b={name:"Answer",props:{activeNum:{type:Number,default:1},listData:{type:[Array,Object],default:()=>{}}},setup(o,_){const l=i([]),e=i(1),d=i(),P=i(0),a=n=>{switch(n){case 0:return"A";case 1:return"B";case 2:return"C";case 3:return"D";default:return""}},c=i(!1),r=i(null),p=async()=>{if(r.value==null){A("\u8BF7\u9009\u62E9\u95EE\u9898\u7B54\u6848");return}if(a(r.value)!=l.value[e.value-1].answer){A("\u7B54\u6848\u4E0D\u6B63\u786E\uFF0C\u770B\u770B\u63D0\u793A\u518D\u4F5C\u7B54\u5427");return}let n=await U({qs_id:e.value,choice:a(r.value)});r.value=null,c.value=!1,_.emit("change",n.gift_info)};return M(()=>{l.value=o.listData,e.value=o.activeNum,d.value=l.value.length,P.value=E(e.value,d.value)}),{getImgUrl:I,percentage:E,percentageRef:P,optionsKeyVisiable:a,promptVisiableRef:c,promptActiveRef:r,listDataRef:l,activeNumRef:e,onNextTopic:p}}},v=o=>(T("data-v-908f43d9"),o=o(),h(),o),L={class:"answer-container"},W={class:"card-style"},x={class:"title-box-style flex-start"},V={class:"problem-box-style"},j={class:"problem-type-style"},w={class:"problem-style"},q=["onClick"],G={class:"options-number-style"},H={class:"options-content-style"},k={class:"prompt-box-style"},K=v(()=>s("p",{class:"prompt-title-style"},"\u63D0\u793A:",-1)),X={class:"prompt-content-style"},B={class:"operation-box-style flex"},z=v(()=>s("div",{class:"organizer-box-style"},[s("p",{class:"organizer-name-style"},"\u664B\u6C5F\u5E02\u6C11\u653F\u5C40"),s("p",{class:"organizer-name-style"},"\u664B\u6C5F\u5E02\u5987\u5973\u8054\u5408\u4F1A"),s("p",{class:"tips-style"},"\u8054\u5408\u4E3B\u529E")],-1));function J(o,_,l,e,d,P){const a=C("van-image"),c=C("van-progress"),r=C("van-button");return S(),g("div",L,[s("div",W,[s("header",null,[s("div",x,[m(a,{class:"title-circular-style",src:e.getImgUrl("title_circular.png")},null,8,["src"]),s("p",null,"\u9898\u76EE"+t(e.activeNumRef)+"\uFF08\u5171"+t(e.listDataRef.length)+"\u9898\uFF09",1)]),m(c,{class:"progress-style",percentage:e.percentageRef,"stroke-width":"8","show-pivot":!1,color:"#F2487D","track-color":"#E6E6E6"},null,8,["percentage"])]),s("article",null,[s("div",V,[s("p",j,t(e.listDataRef[e.activeNumRef-1].title),1),s("p",w,t(e.listDataRef[e.activeNumRef-1].topic),1)]),s("ul",null,[(S(!0),g(y,null,F(e.listDataRef[e.activeNumRef-1].options,(p,n)=>(S(),g("li",{key:n,class:"flex-start",onClick:Y=>e.promptActiveRef=n},[s("div",G,[D(s("p",null,t(e.optionsKeyVisiable(n)),513),[[u,e.promptActiveRef!==n]]),D(m(a,{class:"active-img-style",src:e.getImgUrl("subject_select.png")},null,8,["src"]),[[u,e.promptActiveRef===n]])]),s("p",H,t(p.label),1)],8,q))),128))]),D(s("div",k,[K,s("p",X,t(e.listDataRef[e.activeNumRef-1].hint),1)],512),[[u,e.promptVisiableRef]])]),s("footer",null,[s("div",B,[m(r,{class:"global-btn-style check-prompt-btn-style",color:"#FFE4EC",round:"",onClick:_[0]||(_[0]=p=>e.promptVisiableRef=!0)},{default:R(()=>[O(" \u67E5\u770B\u63D0\u793A ")]),_:1}),m(r,{class:"global-btn-style next-btn-style",color:"#F2487D",round:"",onClick:e.onNextTopic},{default:R(()=>[O(" \u4E0B\u4E00\u9898 ")]),_:1},8,["onClick"])]),z])])])}const $=f(b,[["render",J],["__scopeId","data-v-908f43d9"]]);export{$ as default};
